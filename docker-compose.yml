---
version: '3.8'
services:

  prd-bazarr-app:
    image: docker-registry.theautomation.nl/coen/prd-bazarr-app:latest
    container_name: prd-bazarr-app
    restart: unless-stopped
    env_file: prd-bazarr-app.env
    networks:
      home-services:
    volumes:
      - ./config/bazarr:/config
      - /mnt/slow-storage/temp/downloads/media/movies:/movies
      - /mnt/slow-storage/temp/downloads/media/series:/tv

  prd-radarr-app:
    image: docker-registry.theautomation.nl/coen/prd-radarr-app:latest
    container_name: prd-radarr-app
    restart: unless-stopped
    env_file: prd-bazarr-app.env
    networks:
      home-services:
    volumes:
      - ./config/radarr:/config
      - /mnt/slow-storage/temp/downloads/media/completed:/data/completed
      - /mnt/slow-storage/temp/downloads/media/movies:/movies

  prd-sonarr-app:
    image: docker-registry.theautomation.nl/coen/prd-sonarr-app:latest
    container_name: prd-sonarr-app
    restart: unless-stopped
    env_file: prd-bazarr-app.env
    networks:
      home-services:
    volumes:
      - ./config/sonarr:/config
      - /mnt/slow-storage/temp/downloads/media/completed:/data/completed
      - /mnt/slow-storage/temp/downloads/media/series:/tv

  prd-jackett-app:
    image: docker-registry.theautomation.nl/coen/prd-jackett-app:latest
    container_name: prd-jackett-app
    restart: unless-stopped
    env_file: prd-jackett-app.env
    networks:
      home-services:
    ports:
      - 9117:9117
    volumes:
      - ./config/jackett:/config
      - /mnt/slow-storage/temp/downloads/media/jackett:/downloads

# NETWORKS
networks:

  home-services:
    driver: bridge
    name: home-services
    ipam:
      config:
        - subnet: 172.20.0.0/16
